<div class="wrapper">
    <div class="sidebar">
      <div class="user-info">
        <img src="https://via.placeholder.com/50" alt="Profile Picture" class="profile-pic">
        <h3>{{ currentUser?.firstName }} {{ currentUser?.lastName }}</h3>
        <p>{{ currentUser?.role === 'EMPLOYEE' ? 'UI/UX Designer' : (currentUser?.role === 'EMPLOYER' ? 'Employer' : 'Unknown Role') }}</p>
      </div>
      <nav>
        <ul>
          <li><a href="#"><span class="icon">üè†</span> Home</a></li>
          <li><a href="#" class="active"><span class="icon">üë§</span> Profile</a></li>
          <li><a href="#"><span class="icon">üîî</span> Notifications</a></li>
          <li><a href="#"><span class="icon">üìã</span> Proposals</a></li>
          <li><a href="#"><span class="icon">‚öôÔ∏è</span> Account settings</a></li>
        </ul>
      </nav>
    </div>
    <div class="main-content">
      <header>
        <div class="logo">JobBoard</div>
        <button (click)="logout()" class="logout-btn">Logout <span class="icon">üë§</span></button>
      </header>
      <div class="content">
        <h1>Deals</h1>
        <div class="tabs">
          <button class="tab active">All Deals</button>
          <button class="tab">Active</button>
          <button class="tab">Completed</button>
          <button class="tab">Archive</button>
        </div>
        <div class="deals-list">
          <div *ngFor="let app of applications" class="deal-card">
            <div class="deal-info">
              <h3>{{ app.jobTitle }}</h3>
              <p>Client: {{ app.companyName }}</p>
              <p>Status: {{ app.status || '–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏' }}</p>
              <p>Start Date: {{ app.appliedDate | date:'MMM d, yyyy' }}</p>
              <div class="deal-actions">
                <button class="action-btn">View Chat</button>
                <button (click)="withdrawApplication(app.id!)" class="action-btn secondary">Withdraw</button>
              </div>
            </div>
            <div class="deal-price">{{ app.price ?? '$0' }}</div>
          </div>
          <div *ngIf="!loading && applications.length === 0" class="no-deals">
            –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∫–ª–∏–∫–æ–≤ –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏–∏.
          </div>
          <div *ngIf="loading" class="spinner-container">
            <div class="spinner-border" role="status">
              <span class="sr-only">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
            </div>
          </div>
          <div *ngIf="error" class="alert alert-danger">{{ error }}</div>
        </div>
      </div>
    </div>
  </div>