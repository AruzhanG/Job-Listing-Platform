<div class="profile-container" *ngIf="currentUser">
    <div class="profile-header">
      <h2>Личный кабинет</h2>
      <button (click)="logout()" class="btn btn-outline-danger">Выйти</button>
    </div>
    
    <div class="profile-info">
      <h3>Информация о пользователе</h3>
      <div class="user-details">
        <p><strong>Email:</strong> {{ currentUser.email }}</p>
        <p *ngIf="currentUser.firstName"><strong>Имя:</strong> {{ currentUser.firstName }}</p>
        <p *ngIf="currentUser.lastName"><strong>Фамилия:</strong> {{ currentUser.lastName }}</p>
      </div>
    </div>
    
    <div class="applications-section">
      <h3>Мои отклики</h3>
      
      <div *ngIf="loading" class="spinner-container">
        <div class="spinner-border" role="status">
          <span class="sr-only">Загрузка...</span>
        </div>
      </div>
      
      <div *ngIf="error" class="alert alert-danger">{{ error }}</div>
      
      <div *ngIf="!loading && applications.length === 0" class="no-applications">
        У вас пока нет откликов на вакансии.
      </div>
      
      <div *ngIf="!loading && applications.length > 0" class="applications-list">
        <div *ngFor="let app of applications" class="application-card">
          <div class="application-details">
            <h4>{{ app.jobTitle }}</h4>
            <p class="company-name">{{ app.companyName }}</p>
            <p class="status"><strong>Статус:</strong> {{ app.status || 'На рассмотрении' }}</p>
            <p class="date"><strong>Дата отклика:</strong> {{ app.appliedDate | date:'dd.MM.yyyy' }}</p>
          </div>
          <div class="application-actions">
            <button (click)="withdrawApplication(app.id!)" class="btn btn-sm btn-outline-danger">
              Отозвать
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>